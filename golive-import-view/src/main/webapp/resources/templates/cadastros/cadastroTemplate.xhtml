<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:golive="http://java.sun.com/jsf/composite/components"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	template="/resources/templates/layoutTemplate.xhtml">

	<ui:define name="linkRefs">
		<ui:insert name="css" />
	</ui:define>

	<ui:define name="header">
		<ui:include src="/resources/includes/header/headerNavegacao.xhtml" />
	</ui:define>

	<ui:define name="toolBar">
		<ui:insert name="bean" />

		<h:form id="toolBarForm">
			<ui:include src="/resources/includes/header/toolbar.xhtml" />
			<p:dialog widgetVar="selecioneImpressoraDialog" draggable="false"
				showEffect="bounce" hideEffect="blind" closable="false" closeOnEscape="true"
				resizable="false" showHeader="false">

				<p:fieldset legend="#{bean.labels.getField('label.selecionarImpressa')}"
					style="margin-bottom:20px">
					<p:selectOneRadio id="impressoras" layout="grid" columns="1"
						value="#{bean.nomeDaImpressoraSelecionada}">
						<c:forEach items="#{bean.impressoras}" var="impressora">
							<f:selectItem itemLabel="#{impressora.name}"
								itemValue="#{impressora}" />
						</c:forEach>
						<p:ajax event="change" listener="#{bean.selecionarImpressoraPorNome()}"/>
					</p:selectOneRadio>
					<h:panelGrid columns="2">
						<p:commandButton styleClass="botaoImpressoras" action="#{bean.imprimir()}" value="#{bean.labels.getField('label.imprimir')}" onstart="loading();" onsuccess="PF('selecioneImpressoraDialog').hide();" />
						<p:commandButton styleClass="botaoImpressoras" onclick="PF('selecioneImpressoraDialog').hide();" value="#{bean.labels.getField('label.cancelar')}" />
					</h:panelGrid>
				</p:fieldset>
			</p:dialog>

		</h:form>
	</ui:define>


	<ui:define name="main">

		<div id="divConteudo" class="mainContentPage">
			<h:form id="conteudoForm" styleClass="mainForm"
				rendered="#{bean.implementada}">


				<p:messages id="mensagens" autoUpdate="true" closable="true"
					showDetail="true" />

				<h:panelGroup id="conteudoGroup"
					rendered="#{bean.fluxo == bean.fluxoListagem}">
					<ui:insert name="conteudo" />
				</h:panelGroup>

				<h:panelGroup id="edicaoGroup"
					rendered="#{bean.fluxo != bean.fluxoListagem}">
					<ui:insert name="edicao" />
				</h:panelGroup>

			</h:form>
		</div>

	</ui:define>


</ui:composition>