<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:golive="http://java.sun.com/jsf/composite/components"
	template="/resources/templates/cadastros/cadastroTemplate.xhtml">

	<ui:define name="css">
		<h:outputStylesheet name="css/cadastros/style_areasDeAtuacao.css" />
	</ui:define>

	<ui:define name="bean">
		<ui:param name="bean" value="#{areasDeAtuacaoBean}" />
	</ui:define>

	<ui:define name="conteudo">


		<p:dataTable id="conteudoTable" var="list"
			selection="#{areasDeAtuacaoBean.registro}"
			value="#{areasDeAtuacaoBean.conteudo}" selectionMode="single"
			rowKey="#{list.cadastroAreaAtuacao.id}" styleClass="tableCadastros"
			rows="15" paginator="true"
			filteredValue="#{areasDeAtuacaoBean.filtrados}"
			emptyMessage="#{userBean.properties.getField('msg.nao.ha.registros')}"
			paginatorTemplate="{FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}">

			<p:ajax event="rowSelect" update="conteudoTable" />
			<p:ajax event="rowUnselect" update="conteudoTable" />

			<p:column selectionMode="single" style="width:16px;text-align:center" />

			<p:column headerText="#{userBean.properties.getField('label.id')}"
				styleClass="width-size-10" filterStyleClass="width-size-70;"
				filterMatchMode="contains" filterBy="#{list.cadastroAreaAtuacao.id}">
				<h:outputLabel value="#{list.cadastroAreaAtuacao.id}" />
			</p:column>


			<p:column>
				<f:facet name="header">
					<h:outputLabel styleClass="tituloColunaFiltroData"
						value="#{userBean.properties.getField('label.dataInclusao')}" />
					<br />
					<h:panelGrid columns="3"
						columnClasses="colunaUmFiltroData , colunaDoisFiltroData, colunaTresFiltroData">

						<p:graphicImage id="filtroDataInclucao"
							value="/resources/images/stylistica-icons-set/24x24/settings.png"
							styleClass="image">
							<p:overlayPanel id="overLayPanelInclusao"
								for="filtroDataInclucao" hideEffect="fade" appendToBody="true">
								<p:fieldset legend="#{areasDeAtuacaoBean.labels.getField('label.parametros.filtro')}" style="margin-bottom:20px">
									<h:panelGrid>
										<p:selectOneRadio id="filtrosAlteracao" value="#{areasDeAtuacaoBean.filterUtils.tipoFilto}"
											layout="grid" columns="1">
											<f:selectItem itemValue="#{areasDeAtuacaoBean.filterUtils.menor}" itemLabel="#{areasDeAtuacaoBean.labels.getField('label.menor.que')}"/>
											<f:selectItem itemValue="#{areasDeAtuacaoBean.filterUtils.maior}" itemLabel="#{areasDeAtuacaoBean.labels.getField('label.maior.que')}"/>
											<f:selectItem itemValue="#{areasDeAtuacaoBean.filterUtils.igual}" itemLabel="#{areasDeAtuacaoBean.labels.getField('label.igual')}"/>
											
										</p:selectOneRadio>
									</h:panelGrid>
								</p:fieldset>

							</p:overlayPanel>
						</p:graphicImage>

						<p:calendar id="filterInclusao" pattern="dd/MM/yyyy"
							styleClass="inputFilter"
							value="#{areasDeAtuacaoBean.dataInclusao}" mask="true"
							effect="fold">
							<p:ajax event="dateSelect" update="conteudoTable"
								listener="#{areasDeAtuacaoBean.filterUtils.filtrarPorData(areasDeAtuacaoBean.conteudo, areasDeAtuacaoBean.temp, areasDeAtuacaoBean.filtrados, 'dataInclusao',areasDeAtuacaoBean.dataInclusao)}" />
						</p:calendar>

						<p:commandLink ajax="false"
							actionListener="#{areasDeAtuacaoBean.filterUtils.filtrarPorData(areasDeAtuacaoBean.conteudo, areasDeAtuacaoBean.temp, areasDeAtuacaoBean.filtrados, 'dataInclusao', null)}"
							styleClass="botaoFilter" update="conteudoTable">
							<h:graphicImage
								value="/resources/images/stylistica-icons-set/24x24/bin.png"
								styleClass="image" />
						</p:commandLink>

					</h:panelGrid>

				</f:facet>
				<h:outputText value="#{list.cadastroAreaAtuacao.dataInclusao.time}">
					<f:convertDateTime pattern="dd/MM/yyyy HH:mm:ss" />
				</h:outputText>
			</p:column>

			<p:column>
				<f:facet name="header">
					<h:outputLabel styleClass="tituloColunaFiltroData"
						value="#{userBean.properties.getField('label.dataAlteracao')}" />
					<br />
					<h:panelGrid columns="3"
						columnClasses="colunaUmFiltroData , colunaDoisFiltroData, colunaTresFiltroData">

						<p:graphicImage id="filtroDataAlteracao"
							value="/resources/images/stylistica-icons-set/24x24/settings.png"
							styleClass="image">
							<p:overlayPanel id="overLayPanelAlteracao"
								for="filtroDataAlteracao" hideEffect="fade" appendToBody="true">
								<p:fieldset legend="#{areasDeAtuacaoBean.labels.getField('label.parametros.filtro')}" style="margin-bottom:20px">
									<h:panelGrid>
										<p:selectOneRadio id="filtrosAlteracao" value="#{areasDeAtuacaoBean.filterUtils.tipoFilto}"
											layout="grid" columns="1">
											<f:selectItem itemValue="#{areasDeAtuacaoBean.filterUtils.menor}" itemLabel="#{areasDeAtuacaoBean.labels.getField('label.menor.que')}"/>
											<f:selectItem itemValue="#{areasDeAtuacaoBean.filterUtils.maior}" itemLabel="#{areasDeAtuacaoBean.labels.getField('label.maior.que')}"/>
											<f:selectItem itemValue="#{areasDeAtuacaoBean.filterUtils.igual}" itemLabel="#{areasDeAtuacaoBean.labels.getField('label.igual')}"/>
											
										</p:selectOneRadio>
									</h:panelGrid>
								</p:fieldset>

							</p:overlayPanel>
						</p:graphicImage>

						<p:calendar id="filterAlteracao" pattern="dd/MM/yyyy"
							style="width: 100%;" styleClass="inputFilter"
							value="#{areasDeAtuacaoBean.dataAlteracao}" mask="true"
							effect="fold">
							<p:ajax event="dateSelect" update="conteudoTable"
								listener="#{areasDeAtuacaoBean.filterUtils.filtrarPorData(areasDeAtuacaoBean.conteudo, areasDeAtuacaoBean.temp, areasDeAtuacaoBean.filtrados, 'dataAlteracao',areasDeAtuacaoBean.dataAlteracao)}" />
						</p:calendar>

						<p:commandLink ajax="false"
							actionListener="#{areasDeAtuacaoBean.filterUtils.filtrarPorData(areasDeAtuacaoBean.conteudo, areasDeAtuacaoBean.temp, areasDeAtuacaoBean.filtrados, 'dataAlteracao', null)}"
							styleClass="botaoFilter" update="conteudoTable">
							<h:graphicImage
								value="/resources/images/stylistica-icons-set/24x24/bin.png"
								styleClass="image" />
						</p:commandLink>


					</h:panelGrid>

				</f:facet>
				<h:outputText value="#{list.cadastroAreaAtuacao.dataAlteracao.time}">
					<f:convertDateTime pattern="dd/MM/yyyy HH:mm:ss" />
				</h:outputText>
			</p:column>




			<p:column filterMatchMode="contains"
				filterBy="#{list.cadastroAreaAtuacao.areaDeAtuacao}"
				headerText="#{userBean.properties.getField('label.areaDeAtuacao')}"
				styleClass="width-size-30">
				<h:outputLabel value="#{list.cadastroAreaAtuacao.areaDeAtuacao}" />
			</p:column>

		</p:dataTable>


	</ui:define>

	<ui:define name="edicao">
		<ui:include
			src="/resources/includes/cadastros/componentsGenericos/dadosGerais.xhtml">
			<ui:param name="pojo"
				value="#{areasDeAtuacaoBean.registro.cadastroAreaAtuacao}" />
			<ui:param name="clazz"
				value="#{areasDeAtuacaoBean.getPojoClass('cadastroAreaAtuacao')}" />

		</ui:include>

		<ui:include
			src="/resources/includes/cadastros/componentsGenericos/auditoria.xhtml">
			<ui:param name="pojo"
				value="#{areasDeAtuacaoBean.registro.auditoriaLog}" />
			<ui:param name="clazz"
				value="#{areasDeAtuacaoBean.getPojoClass('auditoriaLog')}" />
		</ui:include>
	</ui:define>


</ui:composition>